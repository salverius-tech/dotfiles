# PowerShell Profile - managed by chezmoi

# Aliases matching bash config
Set-Alias -Name kc -Value kubectl

function l { Get-ChildItem -Force @args }
function cddev { Set-Location C:\dev }

# Docker aliases (only if docker is installed)
if (Get-Command docker -ErrorAction SilentlyContinue) {
    function dps { docker ps --format="table {{`{{.Names}}`}}`t{{`{{.ID}}`}}`t{{`{{.Image}}`}}`t{{`{{.RunningFor}}`}}`t{{`{{.State}}`}}`t{{`{{.Status}}`}}" }
    function dpsp { docker ps --format="table {{`{{.Names}}`}}`t{{`{{.ID}}`}}`t{{`{{.Image}}`}}`t{{`{{.RunningFor}}`}}`t{{`{{.State}}`}}`t{{`{{.Status}}`}}`t{{`{{.Ports}}`}}" }
}

# Network
function ipa { Get-NetIPAddress | Where-Object { $_.AddressFamily -eq 'IPv4' } | Format-Table InterfaceAlias, IPAddress }
function ipn { Get-NetNeighbor | Format-Table }

# Update alias
function update { winget upgrade --all --include-unknown }

# Initialize Starship if installed
if (Get-Command starship -ErrorAction SilentlyContinue) {
    Invoke-Expression (&starship init powershell)
}
